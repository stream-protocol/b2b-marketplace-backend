import{a as Ne,R as x}from"./index.c271ad25.js";const Jt=({size:e="48",...i})=>{const t=+e*.9375;return Ne("svg",{width:t,height:e,viewBox:"0 0 45 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i,children:Ne("path",{d:"M38.8535 7.79156L28.0165 1.5383C24.4707 -0.512767 20.1259 -0.512767 16.5802 1.5383L5.69318 7.79156C2.19737 9.84263 0 13.6446 0 17.6967V30.2533C0 34.3554 2.19737 38.1073 5.69318 40.1584L16.5302 46.4617C20.076 48.5128 24.4208 48.5128 27.9665 46.4617L38.8036 40.1584C42.3493 38.1073 44.4967 34.3554 44.4967 30.2533V17.6967C44.5966 13.6446 42.3992 9.84263 38.8535 7.79156ZM22.2733 35.1558C16.1307 35.1558 11.1367 30.1532 11.1367 24C11.1367 17.8468 16.1307 12.8442 22.2733 12.8442C28.416 12.8442 33.4599 17.8468 33.4599 24C33.4599 30.1532 28.4659 35.1558 22.2733 35.1558Z",fill:"#8B5CF6"})})};var ye=e=>e.type==="checkbox",ie=e=>e instanceof Date,I=e=>e==null;const at=e=>typeof e=="object";var T=e=>!I(e)&&!Array.isArray(e)&&at(e)&&!ie(e),ut=e=>T(e)&&e.target?ye(e.target)?e.target.checked:e.target.value:e,Ot=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,lt=(e,i)=>e.has(Ot(i)),ue=e=>Array.isArray(e)?e.filter(Boolean):[],C=e=>e===void 0,c=(e,i,t)=>{if(!i||!T(e))return t;const r=ue(i.split(/[,[\].]+?/)).reduce((n,l)=>I(n)?n:n[l],e);return C(r)||r===e?C(e[i])?t:e[i]:r};const he={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},K={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Y={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ot=x.createContext(null),Ve=()=>x.useContext(ot),Qt=e=>{const{children:i,...t}=e;return Ne(ot.Provider,{value:t,children:i})};var ct=(e,i,t,r=!0)=>{const n={defaultValues:i._defaultValues};for(const l in e)Object.defineProperty(n,l,{get:()=>{const f=l;return i._proxyFormState[f]!==K.all&&(i._proxyFormState[f]=!r||K.all),t&&(t[f]=!0),e[f]}});return n},q=e=>T(e)&&!Object.keys(e).length,ft=(e,i,t,r)=>{t(e);const{name:n,...l}=e;return q(l)||Object.keys(l).length>=Object.keys(i).length||Object.keys(l).find(f=>i[f]===(!r||K.all))},$=e=>Array.isArray(e)?e:[e],dt=(e,i,t)=>t&&i?e===i:!e||!i||e===i||$(e).some(r=>r&&(r.startsWith(i)||i.startsWith(r)));function xe(e){const i=x.useRef(e);i.current=e,x.useEffect(()=>{const t=!e.disabled&&i.current.subject.subscribe({next:i.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function Rt(e){const i=Ve(),{control:t=i.control,disabled:r,name:n,exact:l}=e||{},[f,v]=x.useState(t._formState),h=x.useRef(!0),w=x.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),D=x.useRef(n);return D.current=n,xe({disabled:r,next:U=>h.current&&dt(D.current,U.name,l)&&ft(U,w.current,t._updateFormState)&&v({...t._formState,...U}),subject:t._subjects.state}),x.useEffect(()=>{h.current=!0;const U=t._proxyFormState.isDirty&&t._getDirty();return U!==t._formState.isDirty&&t._subjects.state.next({isDirty:U}),w.current.isValid&&t._updateValid(!0),()=>{h.current=!1}},[t]),ct(f,t,w.current,!1)}var Q=e=>typeof e=="string",yt=(e,i,t,r,n)=>Q(e)?(r&&i.watch.add(e),c(t,e,n)):Array.isArray(e)?e.map(l=>(r&&i.watch.add(l),c(t,l))):(r&&(i.watchAll=!0),t),Tt=e=>{const i=e.constructor&&e.constructor.prototype;return T(i)&&i.hasOwnProperty("isPrototypeOf")},We=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function W(e){let i;const t=Array.isArray(e);if(e instanceof Date)i=new Date(e);else if(e instanceof Set)i=new Set(e);else if(!(We&&(e instanceof Blob||e instanceof FileList))&&(t||T(e)))if(i=t?[]:{},!Array.isArray(e)&&!Tt(e))i=e;else for(const r in e)i[r]=W(e[r]);else return e;return i}function Ut(e){const i=Ve(),{control:t=i.control,name:r,defaultValue:n,disabled:l,exact:f}=e||{},v=x.useRef(r);v.current=r,xe({disabled:l,subject:t._subjects.watch,next:D=>{dt(v.current,D.name,f)&&w(W(yt(v.current,t._names,D.values||t._formValues,!1,n)))}});const[h,w]=x.useState(t._getWatch(r,n));return x.useEffect(()=>t._removeUnmounted()),h}function Mt(e){const i=Ve(),{name:t,control:r=i.control,shouldUnregister:n}=e,l=lt(r._names.array,t),f=Ut({control:r,name:t,defaultValue:c(r._formValues,t,c(r._defaultValues,t,e.defaultValue)),exact:!0}),v=Rt({control:r,name:t}),h=x.useRef(r.register(t,{...e.rules,value:f}));return x.useEffect(()=>{const w=(D,U)=>{const F=c(r._fields,D);F&&(F._f.mount=U)};return w(t,!0),()=>{const D=r._options.shouldUnregister||n;(l?D&&!r._stateFlags.action:D)?r.unregister(t):w(t,!1)}},[t,r,l,n]),{field:{name:t,value:f,onChange:x.useCallback(w=>h.current.onChange({target:{value:ut(w),name:t},type:he.CHANGE}),[t]),onBlur:x.useCallback(()=>h.current.onBlur({target:{value:c(r._formValues,t),name:t},type:he.BLUR}),[t,r]),ref:w=>{const D=c(r._fields,t);D&&w&&(D._f.ref={focus:()=>w.focus(),select:()=>w.select(),setCustomValidity:U=>w.setCustomValidity(U),reportValidity:()=>w.reportValidity()})}},formState:v,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!c(v.errors,t)},isDirty:{enumerable:!0,get:()=>!!c(v.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!c(v.touchedFields,t)},error:{enumerable:!0,get:()=>c(v.errors,t)}})}}const Xt=e=>e.render(Mt(e));var Bt=(e,i,t,r,n)=>i?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[r]:n||!0}}:{},$e=e=>/^\w*$/.test(e),gt=e=>ue(e.replace(/["|']|\]/g,"").split(/\.|\[/));function k(e,i,t){let r=-1;const n=$e(i)?[i]:gt(i),l=n.length,f=l-1;for(;++r<l;){const v=n[r];let h=t;if(r!==f){const w=e[v];h=T(w)||Array.isArray(w)?w:isNaN(+n[r+1])?{}:[]}e[v]=h,e=e[v]}return e}const _e=(e,i,t)=>{for(const r of t||Object.keys(e)){const n=c(e,r);if(n){const{_f:l,...f}=n;if(l&&i(l.name)){if(l.ref.focus){l.ref.focus();break}else if(l.refs&&l.refs[0].focus){l.refs[0].focus();break}}else T(f)&&_e(f,i)}}};var z=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const t=(Math.random()*16+e)%16|0;return(i=="x"?t:t&3|8).toString(16)})},ke=(e,i,t={})=>t.shouldFocus||C(t.shouldFocus)?t.focusName||`${e}.${C(t.focusIndex)?i:t.focusIndex}.`:"",Pe=e=>({isOnSubmit:!e||e===K.onSubmit,isOnBlur:e===K.onBlur,isOnChange:e===K.onChange,isOnAll:e===K.all,isOnTouch:e===K.onTouched}),je=(e,i,t)=>!t&&(i.watchAll||i.watch.has(e)||[...i.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),ht=(e,i,t)=>{const r=ue(c(e,t));return k(r,"root",i[t]),k(e,t,r),e},ne=e=>typeof e=="boolean",He=e=>e.type==="file",ae=e=>typeof e=="function",ve=e=>{if(!We)return!1;const i=e?e.ownerDocument:0;return e instanceof(i&&i.defaultView?i.defaultView.HTMLElement:HTMLElement)},ge=e=>Q(e),Ke=e=>e.type==="radio",Ae=e=>e instanceof RegExp;const et={value:!1,isValid:!1},tt={value:!0,isValid:!0};var _t=e=>{if(Array.isArray(e)){if(e.length>1){const i=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:i,isValid:!!i.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!C(e[0].attributes.value)?C(e[0].value)||e[0].value===""?tt:{value:e[0].value,isValid:!0}:tt:et}return et};const rt={isValid:!1,value:null};var vt=e=>Array.isArray(e)?e.reduce((i,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:i,rt):rt;function st(e,i,t="validate"){if(ge(e)||Array.isArray(e)&&e.every(ge)||ne(e)&&!e)return{type:t,message:ge(e)?e:"",ref:i}}var se=e=>T(e)&&!Ae(e)?e:{value:e,message:""},qe=async(e,i,t,r,n)=>{const{ref:l,refs:f,required:v,maxLength:h,minLength:w,min:D,max:U,pattern:F,validate:m,name:N,valueAsNumber:le,mount:re,disabled:oe}=e._f,V=c(i,N);if(!re||oe)return{};const j=f?f[0]:l,Z=S=>{r&&j.reportValidity&&(j.setCustomValidity(ne(S)?"":S||""),j.reportValidity())},y={},A=Ke(l),b=ye(l),O=A||b,B=(le||He(l))&&C(l.value)&&C(V)||ve(l)&&l.value===""||V===""||Array.isArray(V)&&!V.length,G=Bt.bind(null,N,t,y),X=(S,p,L,P=Y.maxLength,H=Y.minLength)=>{const J=S?p:L;y[N]={type:S?P:H,message:J,ref:l,...G(S?P:H,J)}};if(n?!Array.isArray(V)||!V.length:v&&(!O&&(B||I(V))||ne(V)&&!V||b&&!_t(f).isValid||A&&!vt(f).isValid)){const{value:S,message:p}=ge(v)?{value:!!v,message:v}:se(v);if(S&&(y[N]={type:Y.required,message:p,ref:j,...G(Y.required,p)},!t))return Z(p),y}if(!B&&(!I(D)||!I(U))){let S,p;const L=se(U),P=se(D);if(!I(V)&&!isNaN(V)){const H=l.valueAsNumber||V&&+V;I(L.value)||(S=H>L.value),I(P.value)||(p=H<P.value)}else{const H=l.valueAsDate||new Date(V),J=fe=>new Date(new Date().toDateString()+" "+fe),ee=l.type=="time",ce=l.type=="week";Q(L.value)&&V&&(S=ee?J(V)>J(L.value):ce?V>L.value:H>new Date(L.value)),Q(P.value)&&V&&(p=ee?J(V)<J(P.value):ce?V<P.value:H<new Date(P.value))}if((S||p)&&(X(!!S,L.message,P.message,Y.max,Y.min),!t))return Z(y[N].message),y}if((h||w)&&!B&&(Q(V)||n&&Array.isArray(V))){const S=se(h),p=se(w),L=!I(S.value)&&V.length>S.value,P=!I(p.value)&&V.length<p.value;if((L||P)&&(X(L,S.message,p.message),!t))return Z(y[N].message),y}if(F&&!B&&Q(V)){const{value:S,message:p}=se(F);if(Ae(S)&&!V.match(S)&&(y[N]={type:Y.pattern,message:p,ref:l,...G(Y.pattern,p)},!t))return Z(p),y}if(m){if(ae(m)){const S=await m(V,i),p=st(S,j);if(p&&(y[N]={...p,...G(Y.validate,p.message)},!t))return Z(p.message),y}else if(T(m)){let S={};for(const p in m){if(!q(S)&&!t)break;const L=st(await m[p](V,i),j,p);L&&(S={...L,...G(p,L.message)},Z(L.message),t&&(y[N]=S))}if(!q(S)&&(y[N]={ref:j,...S},!t))return y}}return Z(!0),y};function De(e,i){return[...e,...$(i)]}var Ce=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Ee(e,i,t){return[...e.slice(0,i),...$(t),...e.slice(i)]}var Le=(e,i,t)=>Array.isArray(e)?(C(e[t])&&(e[t]=void 0),e.splice(t,0,e.splice(i,1)[0]),e):[];function Oe(e,i){return[...$(i),...$(e)]}function It(e,i){let t=0;const r=[...e];for(const n of i)r.splice(n-t,1),t++;return ue(r).length?r:[]}var Re=(e,i)=>C(i)?[]:It(e,$(i).sort((t,r)=>t-r)),Te=(e,i,t)=>{e[i]=[e[t],e[t]=e[i]][0]};function Nt(e,i){const t=i.slice(0,-1).length;let r=0;for(;r<t;)e=C(e)?r++:e[i[r++]];return e}function Pt(e){for(const i in e)if(!C(e[i]))return!1;return!0}function M(e,i){const t=Array.isArray(i)?i:$e(i)?[i]:gt(i),r=t.length===1?e:Nt(e,t),n=t.length-1,l=t[n];return r&&delete r[l],n!==0&&(T(r)&&q(r)||Array.isArray(r)&&Pt(r))&&M(e,t.slice(0,-1)),e}var it=(e,i,t)=>(e[i]=t,e);function Yt(e){const i=Ve(),{control:t=i.control,name:r,keyName:n="id",shouldUnregister:l}=e,[f,v]=x.useState(t._getFieldArray(r)),h=x.useRef(t._getFieldArray(r).map(z)),w=x.useRef(f),D=x.useRef(r),U=x.useRef(!1);D.current=r,w.current=f,t._names.array.add(r),e.rules&&t.register(r,e.rules),xe({next:({values:y,name:A})=>{if(A===D.current||!A){const b=c(y,D.current);Array.isArray(b)&&(v(b),h.current=b.map(z))}},subject:t._subjects.array});const F=x.useCallback(y=>{U.current=!0,t._updateFieldArray(r,y)},[t,r]),m=(y,A)=>{const b=$(W(y)),O=De(t._getFieldArray(r),b);t._names.focus=ke(r,O.length-1,A),h.current=De(h.current,b.map(z)),F(O),v(O),t._updateFieldArray(r,O,De,{argA:Ce(y)})},N=(y,A)=>{const b=$(W(y)),O=Oe(t._getFieldArray(r),b);t._names.focus=ke(r,0,A),h.current=Oe(h.current,b.map(z)),F(O),v(O),t._updateFieldArray(r,O,Oe,{argA:Ce(y)})},le=y=>{const A=Re(t._getFieldArray(r),y);h.current=Re(h.current,y),F(A),v(A),t._updateFieldArray(r,A,Re,{argA:y})},re=(y,A,b)=>{const O=$(W(A)),B=Ee(t._getFieldArray(r),y,O);t._names.focus=ke(r,y,b),h.current=Ee(h.current,y,O.map(z)),F(B),v(B),t._updateFieldArray(r,B,Ee,{argA:y,argB:Ce(A)})},oe=(y,A)=>{const b=t._getFieldArray(r);Te(b,y,A),Te(h.current,y,A),F(b),v(b),t._updateFieldArray(r,b,Te,{argA:y,argB:A},!1)},V=(y,A)=>{const b=t._getFieldArray(r);Le(b,y,A),Le(h.current,y,A),F(b),v(b),t._updateFieldArray(r,b,Le,{argA:y,argB:A},!1)},j=(y,A)=>{const b=W(A),O=it(t._getFieldArray(r),y,b);h.current=[...O].map((B,G)=>!B||G===y?z():h.current[G]),F(O),v([...O]),t._updateFieldArray(r,O,it,{argA:y,argB:b},!0,!1)},Z=y=>{const A=$(W(y));h.current=A.map(z),F([...A]),v([...A]),t._updateFieldArray(r,[...A],b=>b,{},!0,!1)};return x.useEffect(()=>{if(t._stateFlags.action=!1,je(r,t._names)&&t._subjects.state.next({}),U.current&&(!Pe(t._options.mode).isOnSubmit||t._formState.isSubmitted))if(t._options.resolver)t._executeSchema([r]).then(y=>{const A=c(y.errors,r),b=c(t._formState.errors,r);(b?!A&&b.type:A&&A.type)&&(A?k(t._formState.errors,r,A):M(t._formState.errors,r),t._subjects.state.next({errors:t._formState.errors}))});else{const y=c(t._fields,r);y&&y._f&&qe(y,t._formValues,t._options.criteriaMode===K.all,t._options.shouldUseNativeValidation,!0).then(A=>!q(A)&&t._subjects.state.next({errors:ht(t._formState.errors,A,r)}))}t._subjects.watch.next({name:r,values:t._formValues}),t._names.focus&&_e(t._fields,y=>!!y&&y.startsWith(t._names.focus||"")),t._names.focus="",t._updateValid()},[f,r,t]),x.useEffect(()=>(!c(t._formValues,r)&&t._updateFieldArray(r),()=>{(t._options.shouldUnregister||l)&&t.unregister(r)}),[r,t,n,l]),{swap:x.useCallback(oe,[F,r,t]),move:x.useCallback(V,[F,r,t]),prepend:x.useCallback(N,[F,r,t]),append:x.useCallback(m,[F,r,t]),remove:x.useCallback(le,[F,r,t]),insert:x.useCallback(re,[F,r,t]),update:x.useCallback(j,[F,r,t]),replace:x.useCallback(Z,[F,r,t]),fields:x.useMemo(()=>f.map((y,A)=>({...y,[n]:h.current[A]||z()})),[f,n])}}function Ue(){let e=[];return{get observers(){return e},next:n=>{let l=0;const f=e.length;for(;l<f;)e[l].next(n),++l},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(l=>l!==n)}}),unsubscribe:()=>{e=[]}}}var Fe=e=>I(e)||!at(e);function te(e,i){if(Fe(e)||Fe(i))return e===i;if(ie(e)&&ie(i))return e.getTime()===i.getTime();const t=Object.keys(e),r=Object.keys(i);if(t.length!==r.length)return!1;for(const n of t){const l=e[n];if(!r.includes(n))return!1;if(n!=="ref"){const f=i[n];if(ie(l)&&ie(f)||T(l)&&T(f)||Array.isArray(l)&&Array.isArray(f)?!te(l,f):l!==f)return!1}}return!0}var At=e=>e.type==="select-multiple",jt=e=>Ke(e)||ye(e),Me=e=>ve(e)&&e.isConnected,Ft=e=>{for(const i in e)if(ae(e[i]))return!0;return!1};function me(e,i={}){const t=Array.isArray(e);if(T(e)||t)for(const r in e)Array.isArray(e[r])||T(e[r])&&!Ft(e[r])?(i[r]=Array.isArray(e[r])?[]:{},me(e[r],i[r])):I(e[r])||(i[r]=!0);return i}function mt(e,i,t){const r=Array.isArray(e);if(T(e)||r)for(const n in e)Array.isArray(e[n])||T(e[n])&&!Ft(e[n])?C(i)||Fe(t[n])?t[n]=Array.isArray(e[n])?me(e[n],[]):{...me(e[n])}:mt(e[n],I(i)?{}:i[n],t[n]):te(e[n],i[n])?delete t[n]:t[n]=!0;return t}var Be=(e,i)=>mt(e,i,me(i)),Vt=(e,{valueAsNumber:i,valueAsDate:t,setValueAs:r})=>C(e)?e:i?e===""?NaN:e&&+e:t&&Q(e)?new Date(e):r?r(e):e;function Ie(e){const i=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):i.disabled))return He(i)?i.files:Ke(i)?vt(e.refs).value:At(i)?[...i.selectedOptions].map(({value:t})=>t):ye(i)?_t(e.refs).value:Vt(C(i.value)?e.ref.value:i.value,e)}var qt=(e,i,t,r)=>{const n={};for(const l of e){const f=c(i,l);f&&k(n,l,f._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:r}},de=e=>C(e)?e:Ae(e)?e.source:T(e)?Ae(e.value)?e.value.source:e.value:e,Wt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function nt(e,i,t){const r=c(e,t);if(r||$e(t))return{error:r,name:t};const n=t.split(".");for(;n.length;){const l=n.join("."),f=c(i,l),v=c(e,l);if(f&&!Array.isArray(f)&&t!==l)return{name:t};if(v&&v.type)return{name:l,error:v};n.pop()}return{name:t}}var $t=(e,i,t,r,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(i||e):(t?r.isOnBlur:n.isOnBlur)?!e:(t?r.isOnChange:n.isOnChange)?e:!0,Ht=(e,i)=>!ue(c(e,i)).length&&M(e,i);const Kt={mode:K.onSubmit,reValidateMode:K.onChange,shouldFocusError:!0};function Zt(e={},i){let t={...Kt,...e},r={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},n={},l=T(t.defaultValues)||T(t.values)?W(t.defaultValues||t.values)||{}:{},f=t.shouldUnregister?{}:W(l),v={action:!1,mount:!1,watch:!1},h={mount:new Set,unMount:new Set,array:new Set,watch:new Set},w,D=0;const U=e.resetOptions&&e.resetOptions.keepDirtyValues,F={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={watch:Ue(),array:Ue(),state:Ue()},N=Pe(t.mode),le=Pe(t.reValidateMode),re=t.criteriaMode===K.all,oe=s=>a=>{clearTimeout(D),D=setTimeout(s,a)},V=async s=>{if(F.isValid||s){const a=t.resolver?q((await B()).errors):await X(n,!0);a!==r.isValid&&m.state.next({isValid:a})}},j=s=>F.isValidating&&m.state.next({isValidating:s}),Z=(s,a=[],u,d,g=!0,o=!0)=>{if(d&&u){if(v.action=!0,o&&Array.isArray(c(n,s))){const _=u(c(n,s),d.argA,d.argB);g&&k(n,s,_)}if(o&&Array.isArray(c(r.errors,s))){const _=u(c(r.errors,s),d.argA,d.argB);g&&k(r.errors,s,_),Ht(r.errors,s)}if(F.touchedFields&&o&&Array.isArray(c(r.touchedFields,s))){const _=u(c(r.touchedFields,s),d.argA,d.argB);g&&k(r.touchedFields,s,_)}F.dirtyFields&&(r.dirtyFields=Be(l,f)),m.state.next({name:s,isDirty:p(s,a),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else k(f,s,a)},y=(s,a)=>{k(r.errors,s,a),m.state.next({errors:r.errors})},A=(s,a,u,d)=>{const g=c(n,s);if(g){const o=c(f,s,C(u)?c(l,s):u);C(o)||d&&d.defaultChecked||a?k(f,s,a?o:Ie(g._f)):H(s,o),v.mount&&V()}},b=(s,a,u,d,g)=>{let o=!1,_=!1;const R={name:s};if(!u||d){F.isDirty&&(_=r.isDirty,r.isDirty=R.isDirty=p(),o=_!==R.isDirty);const E=te(c(l,s),a);_=c(r.dirtyFields,s),E?M(r.dirtyFields,s):k(r.dirtyFields,s,!0),R.dirtyFields=r.dirtyFields,o=o||F.dirtyFields&&_!==!E}if(u){const E=c(r.touchedFields,s);E||(k(r.touchedFields,s,u),R.touchedFields=r.touchedFields,o=o||F.touchedFields&&E!==u)}return o&&g&&m.state.next(R),o?R:{}},O=(s,a,u,d)=>{const g=c(r.errors,s),o=F.isValid&&ne(a)&&r.isValid!==a;if(e.delayError&&u?(w=oe(()=>y(s,u)),w(e.delayError)):(clearTimeout(D),w=null,u?k(r.errors,s,u):M(r.errors,s)),(u?!te(g,u):g)||!q(d)||o){const _={...d,...o&&ne(a)?{isValid:a}:{},errors:r.errors,name:s};r={...r,..._},m.state.next(_)}j(!1)},B=async s=>await t.resolver(f,t.context,qt(s||h.mount,n,t.criteriaMode,t.shouldUseNativeValidation)),G=async s=>{const{errors:a}=await B();if(s)for(const u of s){const d=c(a,u);d?k(r.errors,u,d):M(r.errors,u)}else r.errors=a;return a},X=async(s,a,u={valid:!0})=>{for(const d in s){const g=s[d];if(g){const{_f:o,..._}=g;if(o){const R=h.array.has(o.name),E=await qe(g,f,re,t.shouldUseNativeValidation,R);if(E[o.name]&&(u.valid=!1,a))break;!a&&(c(E,o.name)?R?ht(r.errors,E,o.name):k(r.errors,o.name,E[o.name]):M(r.errors,o.name))}_&&await X(_,a,u)}}return u.valid},S=()=>{for(const s of h.unMount){const a=c(n,s);a&&(a._f.refs?a._f.refs.every(u=>!Me(u)):!Me(a._f.ref))&&be(s)}h.unMount=new Set},p=(s,a)=>(s&&a&&k(f,s,a),!te(Ze(),l)),L=(s,a,u)=>yt(s,h,{...v.mount?f:C(a)?l:Q(s)?{[s]:a}:a},u,a),P=s=>ue(c(v.mount?f:l,s,e.shouldUnregister?c(l,s,[]):[])),H=(s,a,u={})=>{const d=c(n,s);let g=a;if(d){const o=d._f;o&&(!o.disabled&&k(f,s,Vt(a,o)),g=ve(o.ref)&&I(a)?"":a,At(o.ref)?[...o.ref.options].forEach(_=>_.selected=g.includes(_.value)):o.refs?ye(o.ref)?o.refs.length>1?o.refs.forEach(_=>(!_.defaultChecked||!_.disabled)&&(_.checked=Array.isArray(g)?!!g.find(R=>R===_.value):g===_.value)):o.refs[0]&&(o.refs[0].checked=!!g):o.refs.forEach(_=>_.checked=_.value===g):He(o.ref)?o.ref.value="":(o.ref.value=g,o.ref.type||m.watch.next({name:s})))}(u.shouldDirty||u.shouldTouch)&&b(s,g,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&fe(s)},J=(s,a,u)=>{for(const d in a){const g=a[d],o=`${s}.${d}`,_=c(n,o);(h.array.has(s)||!Fe(g)||_&&!_._f)&&!ie(g)?J(o,g,u):H(o,g,u)}},ee=(s,a,u={})=>{const d=c(n,s),g=h.array.has(s),o=W(a);k(f,s,o),g?(m.array.next({name:s,values:f}),(F.isDirty||F.dirtyFields)&&u.shouldDirty&&m.state.next({name:s,dirtyFields:Be(l,f),isDirty:p(s,o)})):d&&!d._f&&!I(o)?J(s,o,u):H(s,o,u),je(s,h)&&m.state.next({}),m.watch.next({name:s}),!v.mount&&i()},ce=async s=>{const a=s.target;let u=a.name;const d=c(n,u),g=()=>a.type?Ie(d._f):ut(s);if(d){let o,_;const R=g(),E=s.type===he.BLUR||s.type===he.FOCUS_OUT,Ct=!Wt(d._f)&&!t.resolver&&!c(r.errors,u)&&!d._f.deps||$t(E,c(r.touchedFields,u),r.isSubmitted,le,N),we=je(u,h,E);k(f,u,R),E?(d._f.onBlur&&d._f.onBlur(s),w&&w(0)):d._f.onChange&&d._f.onChange(s);const Se=b(u,R,E,!1),Et=!q(Se)||we;if(!E&&m.watch.next({name:u,type:s.type}),Ct)return F.isValid&&V(),Et&&m.state.next({name:u,...we?{}:Se});if(!E&&we&&m.state.next({}),j(!0),t.resolver){const{errors:Ye}=await B([u]),Lt=nt(r.errors,n,u),ze=nt(Ye,n,Lt.name||u);o=ze.error,u=ze.name,_=q(Ye)}else o=(await qe(d,f,re,t.shouldUseNativeValidation))[u],o?_=!1:F.isValid&&(_=await X(n,!0));d._f.deps&&fe(d._f.deps),O(u,_,o,Se)}},fe=async(s,a={})=>{let u,d;const g=$(s);if(j(!0),t.resolver){const o=await G(C(s)?s:g);u=q(o),d=s?!g.some(_=>c(o,_)):u}else s?(d=(await Promise.all(g.map(async o=>{const _=c(n,o);return await X(_&&_._f?{[o]:_}:_)}))).every(Boolean),!(!d&&!r.isValid)&&V()):d=u=await X(n);return m.state.next({...!Q(s)||F.isValid&&u!==r.isValid?{}:{name:s},...t.resolver||!s?{isValid:u}:{},errors:r.errors,isValidating:!1}),a.shouldFocus&&!d&&_e(n,o=>o&&c(r.errors,o),s?g:h.mount),d},Ze=s=>{const a={...l,...v.mount?f:{}};return C(s)?a:Q(s)?c(a,s):s.map(u=>c(a,u))},Ge=(s,a)=>({invalid:!!c((a||r).errors,s),isDirty:!!c((a||r).dirtyFields,s),isTouched:!!c((a||r).touchedFields,s),error:c((a||r).errors,s)}),xt=s=>{s&&$(s).forEach(a=>M(r.errors,a)),m.state.next({errors:s?r.errors:{}})},bt=(s,a,u)=>{const d=(c(n,s,{_f:{}})._f||{}).ref;k(r.errors,s,{...a,ref:d}),m.state.next({name:s,errors:r.errors,isValid:!1}),u&&u.shouldFocus&&d&&d.focus&&d.focus()},pt=(s,a)=>ae(s)?m.watch.subscribe({next:u=>s(L(void 0,a),u)}):L(s,a,!0),be=(s,a={})=>{for(const u of s?$(s):h.mount)h.mount.delete(u),h.array.delete(u),c(n,u)&&(a.keepValue||(M(n,u),M(f,u)),!a.keepError&&M(r.errors,u),!a.keepDirty&&M(r.dirtyFields,u),!a.keepTouched&&M(r.touchedFields,u),!t.shouldUnregister&&!a.keepDefaultValue&&M(l,u));m.watch.next({}),m.state.next({...r,...a.keepDirty?{isDirty:p()}:{}}),!a.keepIsValid&&V()},pe=(s,a={})=>{let u=c(n,s);const d=ne(a.disabled);return k(n,s,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:s}},name:s,mount:!0,...a}}),h.mount.add(s),u?d&&k(f,s,a.disabled?void 0:c(f,s,Ie(u._f))):A(s,!0,a.value),{...d?{disabled:a.disabled}:{},...t.shouldUseNativeValidation?{required:!!a.required,min:de(a.min),max:de(a.max),minLength:de(a.minLength),maxLength:de(a.maxLength),pattern:de(a.pattern)}:{},name:s,onChange:ce,onBlur:ce,ref:g=>{if(g){pe(s,a),u=c(n,s);const o=C(g.value)&&g.querySelectorAll&&g.querySelectorAll("input,select,textarea")[0]||g,_=jt(o),R=u._f.refs||[];if(_?R.find(E=>E===o):o===u._f.ref)return;k(n,s,{_f:{...u._f,..._?{refs:[...R.filter(Me),o,...Array.isArray(c(l,s))?[{}]:[]],ref:{type:o.type,name:s}}:{ref:o}}}),A(s,!1,void 0,o)}else u=c(n,s,{}),u._f&&(u._f.mount=!1),(t.shouldUnregister||a.shouldUnregister)&&!(lt(h.array,s)&&v.action)&&h.unMount.add(s)}}},Je=()=>t.shouldFocusError&&_e(n,s=>s&&c(r.errors,s),h.mount),wt=(s,a)=>async u=>{u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let d=W(f);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:g,values:o}=await B();r.errors=g,d=o}else await X(n);M(r.errors,"root"),q(r.errors)?(m.state.next({errors:{}}),await s(d,u)):(a&&await a({...r.errors},u),Je(),setTimeout(Je)),m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:q(r.errors),submitCount:r.submitCount+1,errors:r.errors})},St=(s,a={})=>{c(n,s)&&(C(a.defaultValue)?ee(s,c(l,s)):(ee(s,a.defaultValue),k(l,s,a.defaultValue)),a.keepTouched||M(r.touchedFields,s),a.keepDirty||(M(r.dirtyFields,s),r.isDirty=a.defaultValue?p(s,c(l,s)):p()),a.keepError||(M(r.errors,s),F.isValid&&V()),m.state.next({...r}))},Qe=(s,a={})=>{const u=s||l,d=W(u),g=s&&!q(s)?d:l;if(a.keepDefaultValues||(l=u),!a.keepValues){if(a.keepDirtyValues||U)for(const o of h.mount)c(r.dirtyFields,o)?k(g,o,c(f,o)):ee(o,c(g,o));else{if(We&&C(s))for(const o of h.mount){const _=c(n,o);if(_&&_._f){const R=Array.isArray(_._f.refs)?_._f.refs[0]:_._f.ref;if(ve(R)){const E=R.closest("form");if(E){E.reset();break}}}}n={}}f=e.shouldUnregister?a.keepDefaultValues?W(l):{}:d,m.array.next({values:g}),m.watch.next({values:g})}h={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!v.mount&&i(),v.mount=!F.isValid||!!a.keepIsValid,v.watch=!!e.shouldUnregister,m.state.next({submitCount:a.keepSubmitCount?r.submitCount:0,isDirty:a.keepDirty?r.isDirty:!!(a.keepDefaultValues&&!te(s,l)),isSubmitted:a.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:a.keepDirtyValues?r.dirtyFields:a.keepDefaultValues&&s?Be(l,s):{},touchedFields:a.keepTouched?r.touchedFields:{},errors:a.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Xe=(s,a)=>Qe(ae(s)?s(f):s,a),kt=(s,a={})=>{const u=c(n,s),d=u&&u._f;if(d){const g=d.refs?d.refs[0]:d.ref;g.focus&&(g.focus(),a.shouldSelect&&g.select())}},Dt=s=>{r={...r,...s}};return ae(t.defaultValues)&&t.defaultValues().then(s=>{Xe(s,t.resetOptions),m.state.next({isLoading:!1})}),{control:{register:pe,unregister:be,getFieldState:Ge,_executeSchema:B,_getWatch:L,_getDirty:p,_updateValid:V,_removeUnmounted:S,_updateFieldArray:Z,_getFieldArray:P,_reset:Qe,_updateFormState:Dt,_subjects:m,_proxyFormState:F,get _fields(){return n},get _formValues(){return f},get _stateFlags(){return v},set _stateFlags(s){v=s},get _defaultValues(){return l},get _names(){return h},set _names(s){h=s},get _formState(){return r},set _formState(s){r=s},get _options(){return t},set _options(s){t={...t,...s}}},trigger:fe,register:pe,handleSubmit:wt,watch:pt,setValue:ee,getValues:Ze,reset:Xe,resetField:St,clearErrors:xt,unregister:be,setError:bt,setFocus:kt,getFieldState:Ge}}function zt(e={}){const i=x.useRef(),[t,r]=x.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:ae(e.defaultValues)?void 0:e.defaultValues});i.current||(i.current={...Zt(e,()=>r(l=>({...l}))),formState:t});const n=i.current.control;return n._options=e,xe({subject:n._subjects.state,next:l=>{ft(l,n._proxyFormState,n._updateFormState,!0)&&r({...n._formState})}}),x.useEffect(()=>{n._stateFlags.mount||(n._updateValid(),n._stateFlags.mount=!0),n._stateFlags.watch&&(n._stateFlags.watch=!1,n._subjects.state.next({})),n._removeUnmounted()}),x.useEffect(()=>{e.values&&!te(e.values,n._defaultValues)&&n._reset(e.values,n._options.resetOptions)},[e.values,n]),i.current.formState=ct(t,n),i.current}export{Xt as C,Qt as F,Jt as M,Ut as a,zt as b,Yt as c,c as g,Ve as u};
